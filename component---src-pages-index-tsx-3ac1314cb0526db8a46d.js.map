{"version":3,"file":"component---src-pages-index-tsx-3ac1314cb0526db8a46d.js","mappings":"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","sources":["webpack://z-game/./node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteralLoose.js","webpack://z-game/./src/game/Splite.ts","webpack://z-game/./src/game/Anime.ts","webpack://z-game/./src/game/GameMap.ts","webpack://z-game/./src/game/index.ts","webpack://z-game/./src/images/frame.svg","webpack://z-game/./src/pages/index.tsx","webpack://z-game/./src/images/splite.png"],"sourcesContent":["export default function _taggedTemplateLiteralLoose(strings, raw) {\n  if (!raw) {\n    raw = strings.slice(0);\n  }\n\n  strings.raw = raw;\n  return strings;\n}","import { Vec2 } from './Vec'\n\nexport interface Drawer {\n  draw(s: Vec2, scale: number, mode1: number, mode2: number): void\n  sz(): Vec2\n}\n\nexport type SpliteProp = {\n  topLeft: Vec2\n  sz: Vec2\n}\n\nexport class Splite implements Drawer {\n  readonly ctx: CanvasRenderingContext2D\n  readonly splite: HTMLImageElement\n  readonly prop: SpliteProp\n\n  constructor(\n    ctx: CanvasRenderingContext2D,\n    splite: HTMLImageElement,\n    prop: SpliteProp,\n  ) {\n    this.ctx = ctx\n    this.splite = splite\n    this.prop = prop\n  }\n\n  draw(p: Vec2, scale: number, mode1: number, mode2: number) {\n    this.ctx.drawImage(\n      this.splite,\n      this.prop.topLeft[0] + mode1 * this.prop.sz[0],\n      this.prop.topLeft[1] + mode2 * this.prop.sz[1],\n      this.prop.sz[0],\n      this.prop.sz[1],\n      p[0] * scale,\n      p[1] * scale,\n      this.prop.sz[0] * scale,\n      this.prop.sz[1] * scale,\n    )\n  }\n\n  sz() {\n    return this.prop.sz\n  }\n}\n","import { Vec2 } from './Vec'\nimport { Splite, SpliteProp, Drawer } from './Splite'\n\nexport type AnimeProp = SpliteProp & {\n  frames: number[]\n  patterns?: number\n}\n\nexport class Anime extends Splite implements Drawer {\n  readonly prop: AnimeProp\n  readonly patterns: number\n  cnt = 0\n\n  constructor(\n    ctx: CanvasRenderingContext2D,\n    splite: HTMLImageElement,\n    prop: AnimeProp,\n  ) {\n    super(ctx, splite, prop)\n    this.prop = prop\n    if (prop.patterns) {\n      this.patterns = prop.patterns\n    } else {\n      this.patterns = prop.frames.reduce((acc, v) => (acc > v ? acc : v), 0)\n    }\n  }\n\n  draw(p: Vec2, scale: number, mode1: number, mode2: number) {\n    super.draw(\n      p,\n      scale,\n      this.prop.frames[this.cnt] + this.patterns * mode2,\n      mode1,\n    )\n  }\n\n  tick() {\n    this.cnt = (this.cnt + 1) % this.prop.frames.length\n  }\n}\n","import { Drawer } from './Splite'\nimport { Vec2 } from './Vec'\n\nexport type Appearance = {\n  mode1: number\n  mode2: number\n}\n\nexport interface Cell {\n  appearance(): Appearance\n}\n\nexport class GameMap<T extends Cell> {\n  readonly sz: Vec2\n  readonly data: Array<T>\n  readonly s: Vec2\n  readonly e: Vec2\n  readonly screenSize: Vec2\n\n  constructor(\n    sz: Vec2,\n    loader: (x: number, y: number) => T,\n    s: Vec2,\n    e: Vec2,\n    screenSize: Vec2,\n  ) {\n    this.sz = sz\n    this.s = s\n    this.e = e\n    this.screenSize = screenSize\n    this.data = new Array<T>(sz[0] * sz[1])\n    for (let j = 0; j < sz[1]; j++) {\n      for (let i = 0; i < sz[0]; i++) {\n        this.data[j * sz[0] + i] = loader(i, j)\n      }\n    }\n  }\n\n  at(p: Vec2): T {\n    return this.data[p[1] * this.sz[0] + p[0]]\n  }\n\n  draw(d: Drawer, o: Vec2, scale: number) {\n    const [cw, ch] = d.sz()\n\n    const left = o[0] - this.s[0] * cw\n    const si2 = left >= 0 ? this.s[0] : this.s[0] - Math.floor(left) / cw\n    const ox2 = left >= 0 ? o[0] : o[0] - Math.floor(left)\n    const right = o[0] + this.e[0] * cw\n    const ei2 =\n      right < this.screenSize[0]\n        ? this.e[0]\n        : this.e[0] - Math.floor(right - this.screenSize[0]) / cw\n\n    const top = o[1] - this.s[1] * ch\n    const sj2 = top >= 0 ? this.s[1] : this.s[1] - Math.floor(top) / ch\n    const oy2 = top >= 0 ? o[1] : o[1] - Math.floor(top)\n    const bottom = o[1] + this.e[1] * ch\n    const ej2 =\n      bottom < this.screenSize[1]\n        ? this.e[1]\n        : this.e[1] - Math.floor(bottom - this.screenSize[1]) / ch\n\n    for (let j = sj2; j < ej2; j++) {\n      for (let i = si2; i < ei2; i++) {\n        const c = this.at(posMod([i, j], this.sz))\n        const a = c.appearance()\n        d.draw([ox2 + i * cw, oy2 + j * ch], scale, a.mode1, a.mode2)\n      }\n    }\n  }\n}\n\nconst posMod = (a: Vec2, b: Vec2): Vec2 => {\n  const m = [a[0] % b[0], a[1] % b[1]]\n  return [m[0] < 0 ? m[0] + b[0] : m[0], m[1] < 0 ? m[1] + b[1] : m[1]]\n}\n","import { Anime } from './Anime'\nimport { Splite } from './Splite'\nimport { GameMap, Cell, Appearance } from './GameMap'\n\nclass SimpleCell implements Cell {\n  readonly v: Appearance\n\n  constructor(mode1: number, mode2: number) {\n    this.v = {\n      mode1,\n      mode2,\n    }\n  }\n\n  appearance(): Appearance {\n    return this.v\n  }\n}\n\nclass Game {\n  readonly canvas: HTMLCanvasElement\n  readonly ctx: CanvasRenderingContext2D\n  readonly splite: HTMLImageElement\n  readonly messageBox: HTMLDivElement\n  cleanup?: () => void\n\n  // temporary\n  readonly kernelAnime: Anime\n  readonly bg: Splite\n  readonly gameMap: GameMap<SimpleCell>\n\n  command: Map<string, boolean>\n  kernelX: number\n  kernelY: number\n  kernelDir: number\n  // /temporary\n\n  constructor(\n    canvas: HTMLCanvasElement,\n    splite: HTMLImageElement,\n    messageBox: HTMLDivElement,\n  ) {\n    const ctx = canvas.getContext('2d')\n    if (!ctx) {\n      throw 'failed to get canvas context'\n    }\n    this.ctx = ctx\n    this.canvas = canvas\n    this.ctx.imageSmoothingEnabled = false\n    this.splite = splite\n    this.messageBox = messageBox\n\n    this.kernelAnime = new Anime(this.ctx, this.splite, {\n      topLeft: [0, 0],\n      sz: [12, 12],\n      frames: [0, 0, 0, 2, 0, 1, 0],\n    })\n    this.bg = new Splite(this.ctx, this.splite, {\n      topLeft: [0, 962],\n      sz: [16, 16],\n    })\n\n    const mapData1 = [\n      [0, 1, 2, 3, 2, 1, 3, 2, 0, 4, 8, 5, 3, 2],\n      [0, 1, 2, 3, 0, 1, 3, 2, 0, 6, 8, 5, 3, 2],\n      [1, 0, 2, 0, 6, 7, 1, 2, 6, 8, 8, 5, 1, 0],\n      [2, 0, 1, 2, 6, 8, 7, 2, 6, 8, 8, 8, 8, 8],\n    ]\n    const mapData2 = [\n      [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],\n      [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1],\n      [2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 3, 3, 3],\n      [3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3],\n    ]\n    this.gameMap = new GameMap<SimpleCell>(\n      [14, 4],\n      (x: number, y: number) => new SimpleCell(mapData1[y][x], mapData2[y][x]),\n      [-100, 0],\n      [100, 4],\n      [640, 480],\n    )\n\n    this.kernelX = 0\n    this.kernelY = 9\n    this.kernelDir = 0\n    this.command = new Map<string, boolean>()\n  }\n\n  start() {\n    const keydown = this.keydown.bind(this)\n    const keyup = this.keyup.bind(this)\n    this.canvas.addEventListener('keydown', keydown)\n    this.canvas.addEventListener('keyup', keyup)\n    this.canvas.focus()\n    const tickTimer = setInterval(this.tick.bind(this), 100)\n\n    let showMessage = false\n    const messageTest = () => {\n      if (showMessage) {\n        this.showMessage(\"What's poppin?\")\n      } else {\n        this.hideMessage()\n      }\n      showMessage = !showMessage\n    }\n    const messageTimer = setInterval(messageTest, 5000)\n\n    this.cleanup = () => {\n      clearInterval(tickTimer)\n      clearInterval(messageTimer)\n      this.canvas.removeEventListener('keydown', this.keydown.bind(this))\n      this.canvas.removeEventListener('keyup', this.keyup.bind(this))\n    }\n  }\n\n  stop() {\n    if (this.cleanup) {\n      this.cleanup()\n    }\n  }\n\n  tick() {\n    this.ctx.fillStyle = 'black'\n    this.ctx.fillRect(0, 0, 640, 480)\n\n    if (this.command.has('ArrowLeft')) {\n      this.kernelX -= 3\n      this.kernelDir = 0\n    }\n    if (this.command.has('ArrowRight')) {\n      this.kernelX += 3\n      this.kernelDir = 1\n    }\n\n    try {\n      this.gameMap.draw(this.bg, [-this.kernelX / 3, 97], 3)\n      this.kernelAnime.tick()\n      this.kernelAnime.draw(\n        [this.kernelX + 100, this.kernelY + 84],\n        3,\n        this.kernelDir,\n        0,\n      )\n    } catch (err) {\n      console.error(err)\n      this.stop()\n    }\n  }\n\n  private keydown(e: KeyboardEvent) {\n    this.command.set(e.code, true)\n  }\n  private keyup(e: KeyboardEvent) {\n    this.command.delete(e.code)\n  }\n\n  private showMessage(text: string) {\n    this.messageBox.innerText = text\n    this.messageBox.style.display = 'block'\n    this.messageBox.classList.remove('hide')\n  }\n  private hideMessage() {\n    this.messageBox.classList.add('hide')\n  }\n}\n\nexport default Game\n","export default __webpack_public_path__ + \"static/frame-bdb4c4dd207ef86a361181fed43e6535.svg\";","import React, { useEffect, useRef } from 'react'\nimport { css, keyframes } from '@emotion/react'\n\nimport Game from '@doramanjyu/z-game/game'\n\nimport frame from '@doramanjyu/z-game/images/frame.svg'\nimport splite from '@doramanjyu/z-game/images/splite.png'\n\nconst IndexPage = () => {\n  const canvasRef = useRef<HTMLCanvasElement>(null)\n  const spliteRef = useRef<HTMLImageElement>(null)\n  const messageRef = useRef<HTMLDivElement>(null)\n\n  useEffect(() => {\n    if (!canvasRef.current || !spliteRef.current || !messageRef.current) {\n      return\n    }\n    const g = new Game(canvasRef.current, spliteRef.current, messageRef.current)\n    g.start()\n    const setFocus = () => {\n      if (canvasRef.current) {\n        canvasRef.current.focus()\n      }\n    }\n    document.addEventListener('click', setFocus)\n    return () => {\n      document.removeEventListener('click', setFocus)\n      g.stop()\n    }\n  }, [canvasRef, spliteRef, messageRef])\n\n  return (\n    <main>\n      <title>What's poppin?</title>\n      <div\n        style={{\n          width: '808px',\n          height: '689px',\n          backgroundImage: `url(${frame})`,\n          position: 'relative',\n        }}\n      >\n        <canvas\n          ref={canvasRef}\n          tabIndex={1}\n          style={{\n            backgroundColor: '#000',\n            width: '640px',\n            height: '480px',\n            borderRadius: '60px',\n            position: 'absolute',\n            left: '84px',\n            top: '188px',\n          }}\n          width=\"640\"\n          height=\"480\"\n        />\n        <div\n          ref={messageRef}\n          style={{\n            boxSizing: 'border-box',\n            backgroundColor: 'rgba(255, 255, 255, 0.8)',\n            borderWidth: '2px',\n            borderStyle: 'dotted',\n            borderRadius: '0 20px 20px 20px',\n            borderColor: 'white',\n            position: 'absolute',\n            width: '540px',\n            height: '85px',\n            left: '134px',\n            bottom: '34px',\n            padding: '10px 20px',\n            fontSize: '20px',\n            lineHeight: '25px',\n            color: '#600',\n            display: 'none',\n            animationIterationCount: 1,\n            animationFillMode: 'forwards',\n          }}\n          css={css`\n            animation: ${bounceIn} 0.8s ease;\n            &.hide {\n              animation: ${bounceOut} 0.5s ease;\n            }\n          `}\n        ></div>\n      </div>\n      <img\n        ref={spliteRef}\n        src={splite}\n        style={{\n          display: 'none',\n        }}\n      />\n      <div\n        style={{\n          paddingTop: '10px',\n          textAlign: 'right',\n          color: '#666',\n        }}\n        css={css`\n          > a {\n            color: #666;\n          }\n          > a:hover {\n            color: #999;\n          }\n        `}\n      >\n        <a href=\"https://github.com/Doramanjyu/z-game\">Source repository</a>\n      </div>\n    </main>\n  )\n}\n\nconst bounceIn = keyframes`\n  from, 20%, 46%, 80%, to {\n    transform: translate3d(0,0,0);\n    visibility: visible;\n  }\n  40%, 42% {\n    transform: translate3d(0, -20px, 0);\n  }\n  70% {\n    transform: translate3d(0, -8px, 0);\n  }\n  90% {\n    transform: translate3d(0,-2px,0);\n  }\n`\n\nconst bounceOut = keyframes`\n  from, 50% {\n    transform: translate3d(0,0,0);\n  }\n  20% {\n    transform: translate3d(0,-2px,0);\n  }\n  70% {\n    transform: translate3d(0,-5px,0);\n  }\n  to {\n    visibility: hidden;\n  }\n`\n\nexport default IndexPage\n","export default \"data:image/png;base64,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AAAAAgAAAAAgAAAAAIAAAAAAAAgAAAAAgAAAAAAACAAAAACAAAAAAAAIAAAAAIAAAAAAAAgAAAAAgAAAAAAAAgAAAAAgAAAAAAACAAAAACAAAAAAAAIAAAAAIAAAAAAAAgAAAAAgAAAAAIAAAAAAAAgAAAAAgAAAAAAACAAAAACAAAAAAAAIAAAAAIAAAAAAAAgAAAAAIAAAAAAAAgAAAAAgAAAAAAACAAAAACAAAAAAAAIAAAAAIAAAAAAAAgAAAAAgAAAAAIAAAAAAAAgAAAAAgAAAAAAACAAAAACAAAAAAAAIAAAAAIAAAAAAAAgAAAAAIAAAAAAAAgAAAAAgAAAAAAACAAAAACAAAAAAAAIAAAAAIAAAAAAAAgAAAAAIAAAAAIAAAAAAAAgAAAAAgAAAAAAACAAAAACAAAAAAAAIAAAAAIAAAAAAAAgAAAAAIAAAAAAAAgAAAAAgAAAAAAACAAAAACAAAAAAAAIAAAAAIAAAAAAAAgAAAAAIAAAAAIAAAAAAAAgAAAAAgAAAAAAACAAAAACAAAAAAAAIAAAAAIAAAAAAAAIAAAAAIAAAAAAAAgAAAAAgAAAAAAACAAAAACAAAAAAAAIAAAAAIAAAAAAAAgAAAAAIAAAAAIAAAAAAAAgAAAAAgAAAAAAACAAAAACAAAAAAAAIAAAAAIAAAAAAAAIAAAAAIAAAAAAAAgAAAAAgAAAAAAACAAAAACAAAAAAAAIAAAAAIAAAAACAAAAAAAAIAAAAAIAAAAAAAAgAAAAAgAAAAAAACAAAAACAAAAAAAAIAAAAACAA+AgAAABAAAAAAAAEAAAAAEAAAAAAAAQAAAAAQAAAAAAABAAAAABAAAAAAAAEAAAAABAAAAAAAAEAAAAAEAAAAAAAAQAAAAAQAAAAAAABAAAAABAAAAAAAAEAAAAABAAAAABAAAAAAAAEAAAAAEAAAAAAAAQAAAAAQAAAAAAABAAAAABAAAAAAAABAAAAABAAAAAAAAEAAAAAEAAAAAAAAQAAAAAQAAAAAAABAAAAABAAAAAAAAEAAAAABAAAAABAAAAAAAAEAAAAAEAAAAAAAAQAAAAAQAAAAAAABAAAAABAAAAAAAABAAAAABAAAAAAAAEAAAAAEAAAAAAAAQAAAAAQAAAAAAABAAAAABAAAAAAQAAAAAAABAAAAABAAAAAAAAEAAAAAEAAAAAAAAQAAAAAQAAAAAAABAAAAABAAAAAAAABAAAAABAAAAAAAAEAAAAAEAAAAAAAAQAAAAAQAAAAAAABAAAAABAAAAAAQAAAAAAABAAAAABAAAAAAAAEAAAAAEAAAAAAAAQAAAAAQAAAAAAABAAAAAAQAAAAAAABAAAAABAAAAAAAAEAAAAAEAAAAAAAAQAAAAAQAAAAAAABAAAAABAAAAAAQAAAAAAABAAAAABAAAAAAAAEAAAAAEAAAAAAAAQAAAAAQAAAAAAABAAAAAAQAAAAAAABAAAAABAAAAAAAAEAAAAAEAAAAAAAAQAAAAAQAAAAAAABAAAAAAQAAAAAQAAAAAAABAAAAABAAAAAAAAEAAAAAEAAAAAAAAQAAAAAQAAAAAAABAAAAAAQAAAAAAABAAAAABAAAAAAAAEAAAAAEAAAAAAAAQAAAAAQAAAAAAABAAAAAAQAAAAAQAAAAAAABAAAAABAAAAAAAAEAAAAAEAAAAAAAAQAAAAAQAAAAAAAAQAAAAAQAAAAAAABAAAAABAAAAAAAAEAAAAAEAAAAAAAAQAAAAAQAAAAAAABAAAAAAQAAAAAQAAAAAAABAAAAABAAAAAAAAEAAAAAEAAAAAAAAQAAAAAQAAAAAAAAQAAAAAQAAAAAAABAAAAABAAAAAAAAEAAAAAEAAAAAAAAQAAAAAQAAAAAEAAAAAAAAQAAAAAQAAAAAAABAAAAABAAAAAAAAEAAAAAEAAAAAAAAQAAAAAQAAAAAAAAQAAAAAQAAAAAAABAAAAABAAAAAAAAEAAAAAEAAAAAAAAQAAAAAQAAAAAEAAAAAAAAQAAAAAQAAAAAAABAAAAABAAAAAAAAEAAAAAEAAAAAAAAQAAAAAEAAAAAAAAQAAAAAQAAAAAAABAAAAABAAAAAAAAEAAAAAEAAAAAAAAQAAAAAQAAAAAEAAAAAAAAQAAAAAQAAAAAAABAAAAABAAAAAAAAEAAAAAEAAAAAAAAQAAAAAEAAAAAAAAQAAAAAQAAAAAAABAAAAABAAAAAAAAEAAAAAEAAAAAAAAQAAAAAEAAAAAEAAAAAAAAQAAAAAQAAAAAAABAAAAABAAAAAAAAEAAAAAEAAAAAAAAQAAAAAEAAAAAAAAQAAAAAQAAAAAAABAAAAABAAAAAAAAEAAAAAEAAAAAAAAQAAAAAEAAAAAEAAAAAAAAQAAAAAQAAAAAAABAAAAABAAAAAAAAEAAAAAEAAAAAAAAEAAAAAEAAAAAAAAQAAAAAQAAAAAAABAAAAABAAAAAAAAEAAAAAEAAAAAAAAQAAAAAEAAAAAEAAAAAAAAQAAAAAQAAAAAAABAAAAABAAAAAAAAEAAAAAEAAAAAAAAEAAAAAEAAAAAAAAQAAAAAQAAAAAAABAAAAABAAAAAAAAEAAAAAEAAAAABAAAAAAAAEAAAAAEAAAAAAAAQAAAAAQAAAAAAABAAAAABAAAAAAAAEAAAAABAAfAQAAAAgAAAAAAACAAAAACAAAAAAAAIAAAAAIAAAAAAAAgAAAAAgAAAAAAACAAAAAAgAAAAAgAAAAAAACAAAAACAAAAAAAAIAAAAAIAAAAAAAAgAAAAAgAAAAAAAAgAAAAAgAAAAAAACAAAAACAAAAAAAAIAAAAAIAAAAAAAAgAAAAAgAAAAAIAAAAAAAAgAAAAAgAAAAAAACAAAAACAAAAAAAAIAAAAAIAAAAAAAAgAAAAAgAAAAAAAAgAAAAAgAAAAAAACAAAAACAAAAAAAAIAAAAAIAAAAAAAAgAAAAAgAAAAAIAAAAAAAAgAAAAAgAAAAAAACAAAAACAAAAAAAAIAAAAAIAAAAAAAAgAAAAAIAAAAAAAAgAAAAAgAAAAAAACAAAAACAAAAAAAAIAAAAAIAAAAAAAAgAAAAAgAAAAAIAAAAAAAAgAAAAAgAAAAAAACAAAAACAAAAAAAAIAAAAAIAAAAAAAAgAAAAAIAAAAAAAAgAAAAAgAAAAAAACAAAAACAAAAAAAAIAAAAAIAAAAAAAAgAAAAAIAAAAAIAAAAAAAAgAAAAAgAAAAAAACAAAAACAAAAAAAAIAAAAAIAAAAAAAAgAAAAAIAAAAAAAAgAAAAAgAAAAAAACAAAAACAAAAAAAAIAAAAAIAAAAAAAAgAAAAAIAAAAAIAAAAAAAAgAAAAAgAAAAAAACAAAAACAAAAAAAAIAAAAAIAAAAAAAAIAAAAAIAAAAAAAAgAAAAAgAAAAAAACAAAAACAAAAAAAAIAAAAAIAAAAAAAAgAAAAAIAAAAAIAAAAAAAAgAAAAAgAAAAAAACAAAAACAAAAAAAAIAAAAAIAAAAAAAAIAAAAAIAAAAAAAAgAAAAAgAAAAAAACAAAAACAAAAAAAAIAAAAAIAAAAACAAAAAAAAIAAAAAIAAAAAAAAgAAAAAgAAAAAAACAAAAACAAAAAAAAIAAAAAIAAAAAAAAIAAAAAIAAAAAAAAgAAAAAgAAAAAAACAAAAACAAAAAAAAIAAAAAIAAAAACAAAAAAAAIAAAAAIAAAAAAAAgAAAAAgAAAAAAACAAAAACAAAAAAAAIAAAAACAAAAAAAAIAAAAAIAAAAAAAAgAAAAAgAAAAAAACAAAAACAAAAAAAAIAAAAAIAAAAACAAAAAAAAIAAAAAIAAAAAAAAgAAAAAgAAAAAAACAAAAACAAAAAAAAIAAAAACAAAAAAAAIAAAAAIAAAAAAAAgAAAAAgAAAAAAACAAAAACAAAAAAAAIAAAAACAAAAACAAAAAAAAIAAAAAIAAAAAAAAgAAAAAgAAAAAAACAAAAACAAAAAAAAIAAAAACAAAAAAAAIAAAAAIAAAAAAAAgAAAAAgAAAAAAACAAAAACAAAAAAAAIAAAAACAAAAACAAAAAAAAIAAAAAIAAAAAAAAgAAAAAgAAAAAAACAAAAACAAAAAAAACAAAAACAAAAAAAAIAAAAAIAAAAAAAAgAAAAAgAAAAAAACAAAAACAAAAAAAAIAAAAACAAAAACAAAAAAAAIAAAAAIAAAAAAAAgAAAAAgAAAAAAACAAAAACAAAAAAAACAAAAACAAAAAAAAIAAAAAIAAAAAAAAgAAAAAgAAAAAAACAAAAACAAAAAAgAAAAAAACAAAAACAAAAAAAAIAAAAAIAAAAAAAAgAAAAAgAAAAAAACAAAAACAAAAAAAACAAAAACAAAAAAAAIAAAAAIAAAAAAAAgAAAAAgAAAAAAACAAAAACAAAAAAgAAAAAAACAAAAACAAAAAAAAIAAAAAIAAAAAAAAgAAAAAgAAAAAAACAAAAAAgAAAAAAACAAAAACAAAAAAAAIAAAAAIAAAAAAAAgAAAAAgAAAAAAACAAAAAAgAPgIAAAAQAAAAAAABAAAAABAAAAAAAAEAAAAAEAAAAAAAAQAAAAAQAAAAAAABAAAAAAQAAAAAQAAAAAAABAAAAABAAAAAAAAEAAAAAEAAAAAAAAQAAAAAQAAAAAAAAQAAAAAQAAAAAAABAAAAABAAAAAAAAEAAAAAEAAAAAAAAQAAAAAQAAAAAEAAAAAAAAQAAAAAQAAAAAAABAAAAABAAAAAAAAEAAAA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\""],"names":["_taggedTemplateLiteralLoose","strings","raw","slice","Splite","ctx","splite","prop","this","draw","p","scale","mode1","mode2","drawImage","topLeft","sz","Anime","cnt","patterns","frames","reduce","acc","v","tick","length","GameMap","loader","s","e","screenSize","data","Array","j","i","at","d","o","cw","ch","left","si2","Math","floor","ox2","right","ei2","top","sj2","oy2","bottom","ej2","a","posMod","appearance","b","m","SimpleCell","Game","canvas","messageBox","getContext","imageSmoothingEnabled","kernelAnime","bg","mapData1","mapData2","gameMap","x","y","kernelX","kernelY","kernelDir","command","Map","start","keydown","bind","keyup","addEventListener","focus","tickTimer","setInterval","showMessage","messageTimer","hideMessage","cleanup","clearInterval","removeEventListener","stop","fillStyle","fillRect","has","err","console","error","set","code","delete","text","innerText","style","display","classList","remove","add","bounceIn","keyframes","bounceOut","canvasRef","useRef","spliteRef","messageRef","useEffect","current","g","setFocus","document","width","height","backgroundImage","frame","position","ref","tabIndex","backgroundColor","borderRadius","boxSizing","borderWidth","borderStyle","borderColor","padding","fontSize","lineHeight","color","animationIterationCount","animationFillMode","css","src","paddingTop","textAlign","href"],"sourceRoot":""}